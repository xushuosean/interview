<script>
  function debounce(fn, wait, immediate) {
    let timeout;

    return function() {
      const context = this, args = arguments
      var later = function() {
        timeout = null;
        if (!immediate) fn.apply(context, args);
      };
      const callNow = immediate && !timeout
      clearTimeout(timeout)
      timeout = setTimeout(later, wait);

      if (callNow) fn.apply(context, args)
    }
  }

  const effect = debounce(function () {console.log('here run resize')}, 250, true)

  window.addEventListener('resize', effect)
</script>